<ion-header>
  <ion-toolbar>
    <ion-title>Developer</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <ng-container *ngIf="hasLoaded == 'y'">
    <ng-container *ngIf="data$ | async as data">
      <form [formGroup]="fg" (ngSubmit)="onSave()">
        <ion-item padding-right mode="ios">
          <ion-input type="number" formControlName="zipId" placeholder="CODE" maxlength="4" text-center
            (ionChange)="DeviceIdChanged()"></ion-input>
        </ion-item>
        <ion-footer>
          <button id="app-form-submit" type="submit" color="danger" [disabled]="fg.invalid" ion-button full
            no-margin>Update</button>
        </ion-footer>
      </form>
      <ion-item no-lines>
        <ion-label mode="ios"><b>DeviceId</b></ion-label>
      </ion-item>
      <ion-item no-lines>
        <ion-label mode="ios" style="font-size: 10px">{{ data.deviceId }}</ion-label>
      </ion-item>
      <br>
      <ion-item>
        <ion-label mode="ios"><b>Workflow</b> {{ data.workflow }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label mode="ios"><b>Content</b> {{ data.content }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label mode="ios"><b>AppText</b> {{ data.appText }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label mode="ios"><b>Offline</b> {{ data.offline }}</ion-label>
      </ion-item>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="!hasLoaded">
    <ion-item margin-top text-center>
      กำลังโหลดข้อมูล กรุณารอสักครู่...
    </ion-item>
  </ng-container>

  <ng-container *ngIf="hasLoaded == 'n'">
    <ion-item margin-top text-center>
      ไม่สามารถดึงข้อมูลได้ กรุณาลองใหม่
    </ion-item>
  </ng-container>
</ion-content>